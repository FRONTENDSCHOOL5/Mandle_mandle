"use strict";(self.webpackChunkmandle_mandle=self.webpackChunkmandle_mandle||[]).push([[76],{3868:function(n,t,e){e(2791);t.Z=e.p+"static/media/icon-teacher.e3046560ae02bb45b74509a7c29b7d4a.svg"},3301:function(n,t,e){e.d(t,{Z:function(){return u}});e(2791);var r,o,a=e(168),i=e(6444),s=i.ZP.div(r||(r=(0,a.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.2);\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n  z-index: 9999; /* \ubaa8\ub2ec\uc758 z-index \uac12\uc744 \uc124\uc815 */\n"]))),c=i.ZP.div(o||(o=(0,a.Z)(["\n  width: 100%;\n  padding-bottom: 20px;\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translate(-50%, 0);\n  border-radius: 10px 10px 0 0;\n  background-color: #fff;\n  animation: slideIn 0.5s ease;\n\n  @keyframes slideIn {\n    from {\n      bottom: -100px;\n    }\n    to {\n      bottom: 0%;\n    }\n  }\n\n  p {\n    font-size: var(--font-lg);\n    padding: 24px 0;\n    border-bottom: 1px solid var(--border-color);\n  }\n  div {\n    width: 100%;\n    position: relative;\n    padding: 16px 0;\n  }\n\n  div::after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 50px;\n    height: 4px;\n    background: #dbdbdb;\n    border-radius: 5px;\n  }\n\n  ul {\n    width: 100%;\n  }\n  li {\n    width: 100%;\n    height: 40px;\n\n    display: flex;\n    align-items: center;\n\n    button {\n      padding-left: 26px;\n      width: 100%;\n      height: 100%;\n    }\n    button:hover {\n      background-color: var(--main-color);\n      color: #fff;\n    }\n  }\n"]))),l=e(184);function u(n){var t=n.onClick,e=n.setModalOpen,r=n.setAlertModalOpen,o=n.text,a=n.type;return(0,l.jsx)(s,{onClick:function(n){n.target===n.currentTarget&&e(!1)},children:(0,l.jsxs)(c,{children:[(0,l.jsx)("div",{}),(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:(0,l.jsx)("button",{onClick:function(){e(!1),r(a)},children:o})}),("delete"===a||"class"===a)&&(0,l.jsx)("li",{children:(0,l.jsx)("button",{onClick:a&&t,children:"delete"===a?"\uc218\uc815":"class"===a?"\ud074\ub798\uc2a4 \uc0c1\uc138 \ud398\uc774\uc9c0\ub85c \uc774\ub3d9":null})})]})]})})}},6030:function(n,t,e){e.d(t,{Z:function(){return c}});var r,o,a=e(168),i=(e(2791),e(6444)),s=e(184);function c(n){var t=n.setAlertModalOpen,e=n.onClick,r=n.type;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(l,{children:(0,s.jsxs)(u,{children:[(0,s.jsx)("p",{children:"edit"===r?"\uc800\uc7a5\ud558\uc9c0 \uc54a\uc740 \ubcc0\uacbd \uc0ac\ud56d\uc774 \uc788\uc2b5\ub2c8\ub2e4.":"logout"===r?"\uc815\ub9d0 \ub85c\uadf8\uc544\uc6c3 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?":"report"===r?"\uc2e0\uace0\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?":"\uc0ad\uc81c\ud560\uae4c\uc694?"}),"edit"===r&&(0,s.jsx)("p",{children:"\uc815\ub9d0\ub85c \ub098\uac00\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{type:"button",onClick:function(){t(null)},children:"\ucde8\uc18c"}),(0,s.jsx)("button",{onClick:e,type:"button",children:"edit"===r?"\ub098\uac00\uae30":"logout"===r?"\ub85c\uadf8\uc544\uc6c3":"report"===r?"\uc2e0\uace0\ud558\uae30":"\uc0ad\uc81c"})]})]})})})}var l=i.ZP.div(r||(r=(0,a.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.2);\n  display: flex;\n  justify-content: center;\n  align-items: flex-end;\n  z-index: 9999; /* \ubaa8\ub2ec\uc758 z-index \uac12\uc744 \uc124\uc815 */\n"]))),u=i.ZP.div(o||(o=(0,a.Z)(["\n  width: 252px;\n  padding: 24px 0 0;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  border-radius: 10px;\n  background-color: #fff;\n  text-align: center;\n  animation: zoomIn 0.5s ease;\n\n  @keyframes zoomIn {\n    0% {\n      transform: translate(-50%, -50%) scale(0.7, 0.7);\n    }\n    60% {\n      transform: translate(-50%, -50%) scale(1.05, 1.05);\n    }\n    100% {\n      transform: translate(-50%, -50%) scale(1, 1);\n    }\n  }\n\n  p {\n    font-size: var(--font-lg);\n  }\n\n  div {\n    display: flex;\n    justify-content: space-between;\n    margin-top: 24px;\n    border-top: 1px solid var(--border-color);\n\n    button {\n      font-size: var(--font-md);\n      flex-grow: 1;\n      padding: 16px 0;\n      border-radius: 0 0 0px 10px;\n      display: flex;\n      justify-content: center;\n    }\n\n    button + button {\n      color: var(--main-color);\n      border-left: 1px solid var(--border-color);\n      border-radius: 0 0 10px 0px;\n    }\n\n    button:hover {\n      color: #fff;\n      background-color: var(--main-color);\n    }\n  }\n"])))},2076:function(n,t,e){e.d(t,{Z:function(){return en}});var r=e(168),o=e(2791),a=e(6444),i=e(7689),s=e(5683),c=e(4165),l=e(5861),u=e(9439),p=e(5468),d=e(2733),h=e(5698),x=e(5330),f=e(1243);function b(n,t){return m.apply(this,arguments)}function m(){return(m=(0,l.Z)((0,c.Z)().mark((function n(t,e){var r;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.Z.post("https://api.mandarin.weniv.co.kr/post/".concat(t,"/heart"),{},{headers:{Authorization:"Bearer ".concat(e),"Content-type":"application/json"}});case 3:return r=n.sent,n.abrupt("return",r.data.post);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:return n.abrupt("return",null);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}function g(n,t){return v.apply(this,arguments)}function v(){return(v=(0,l.Z)((0,c.Z)().mark((function n(t,e){var r;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.Z.delete("https://api.mandarin.weniv.co.kr/post/".concat(t,"/unheart"),{headers:{Authorization:"Bearer ".concat(e),"Content-type":"application/json"}});case 3:return r=n.sent,n.abrupt("return",r.data.post);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:return n.abrupt("return",null);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}var Z,j=e(184);function w(n){var t=n.post,e=(0,o.useState)(t.hearted),r=(0,u.Z)(e,2),a=r[0],i=r[1],s=(0,o.useState)(t.heartCount),f=(0,u.Z)(s,2),m=f[0],v=f[1],Z=t.id,w=(0,x.sJ)(h.Rx).token,k=function(){var n=(0,l.Z)((0,c.Z)().mark((function n(){var t;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b(Z,w);case 2:t=n.sent,i(t.hearted),v(t.heartCount);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),y=function(){var n=(0,l.Z)((0,c.Z)().mark((function n(){var t;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g(Z,w);case 2:t=n.sent,i(t.hearted),v(t.heartCount);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),C=function(){var n=(0,l.Z)((0,c.Z)().mark((function n(){return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=5;break}return n.next=3,y();case 3:n.next=7;break;case 5:return n.next=7,k();case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,j.jsxs)(I,{children:[(0,j.jsx)("button",{onClick:C,children:(0,j.jsx)("img",{src:a?d.Z:p.Z,alt:""})}),(0,j.jsx)("p",{children:m||0})]})}var k,y,C,P,z,A,I=a.ZP.div(Z||(Z=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n  gap: 6px;\n"]))),M=e(7754),O=e(4053),S=e(682);function B(n){var t,e=n.post,r=(0,i.s0)(),o=(0,i.TH)(),a=e.image?e.image.split(","):"",c=function(){r("/post/".concat(e.id),{state:e.id})};return(0,j.jsxs)(T,{children:[(0,j.jsxs)(R,{cursor:o.pathname.startsWith("/post")?"default ":"pointer",onClick:c,children:[e.content&&(0,j.jsx)("p",{children:e.content}),""===a[0]?"":(0,j.jsx)(U,{className:a.length>1?"postImgscroll":"",height:a.length>1||!a.length?"100%":"228px",children:a&&a.map((function(n,t){return(0,j.jsx)(s.Z,{src:(0,M.Z)(n),width:a.length>1?"168px":"304px",alt:"\uac8c\uc2dc\uae00 \uc774\ubbf8\uc9c0",placeholderSrc:S.Z},t)}))})]}),(0,j.jsxs)(W,{children:[(0,j.jsx)(w,{post:e}),(0,j.jsxs)(_,{onClick:c,cursor:o.pathname.startsWith("/post")?"default ":"pointer",children:[(0,j.jsx)("img",{src:O.Z,alt:"\ub313\uae00 \ubc84\ud2bc"}),(0,j.jsx)("p",{children:e.commentCount})]})]}),(0,j.jsx)(D,{children:(t=e.createdAt,new Date(t).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}))})]})}var T=a.ZP.div(k||(k=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  padding-left: calc(42px + 6px);\n"]))),R=a.ZP.button(y||(y=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  cursor: ",";\n"])),(function(n){return n.cursor})),U=a.ZP.div(C||(C=(0,r.Z)(["\n  width: 304px;\n  height: ",";\n\n  img {\n    width: ",";\n    height: ",";\n    aspect-ratio: 304/228;\n    border-radius: 10px;\n    object-fit: cover;\n    box-shadow: 0px 1px 2px rgba(118, 118, 118, 0.25);\n  }\n  &.postImgscroll {\n    display: flex;\n    gap: 8px;\n    overflow-x: scroll;\n  }\n\n  &.postImgscroll::-webkit-scrollbar {\n    padding-top: 5px;\n    background-color: white;\n\n    height: 10px;\n  }\n  &.postImgscroll::-webkit-scrollbar-thumb {\n    background-color: var(--border-color);\n    border-radius: 10px;\n    background-clip: padding-box;\n    border: 2px solid white;\n  }\n"])),(function(n){return n.height||"100%"}),(function(n){return n.width}),(function(n){return n.height})),W=a.ZP.div(P||(P=(0,r.Z)(["\n  width: 85px;\n  display: flex;\n  justify-content: space-between;\n\n  button,\n  a {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n  }\n"]))),_=a.ZP.button(z||(z=(0,r.Z)(["\n  cursor: ",";\n"])),(function(n){return n.cursor})),D=a.ZP.p(A||(A=(0,r.Z)(["\n  font-size: var(--font-sm);\n  color: var(--sub-font-color);\n"]))),J=e(3036),$=e(3301);function F(n,t){return H.apply(this,arguments)}function H(){return(H=(0,l.Z)((0,c.Z)().mark((function n(t,e){var r;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.Z.post("https://api.mandarin.weniv.co.kr/post/".concat(t,"/report"),{},{headers:{Authorization:"Bearer ".concat(e),"Content-type":"application/json"}});case 3:return r=n.sent,n.abrupt("return",r.data);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:return n.abrupt("return",null);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}function K(n,t){return L.apply(this,arguments)}function L(){return(L=(0,l.Z)((0,c.Z)().mark((function n(t,e){var r;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.Z.delete("https://api.mandarin.weniv.co.kr/post/".concat(t),{headers:{Authorization:"Bearer ".concat(e),"Content-type":"application/json"}});case 3:return r=n.sent,n.abrupt("return",r.data);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:return n.abrupt("return",null);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}var N,q,E,G=e(6030),Q=e(3868);function V(n){var t=n.post,e=n.setPostUpdated,r=(0,x.sJ)(h.Rx),a=(0,o.useState)(!1),s=(0,u.Z)(a,2),p=s[0],d=s[1],f=(0,o.useState)(null),b=(0,u.Z)(f,2),m=b[0],g=b[1],v=(0,i.s0)(),Z=function(){var n=(0,l.Z)((0,c.Z)().mark((function n(){return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,F(t.id,r.token);case 2:n.sent&&(alert("\ud574\ub2f9 \uac8c\uc2dc\uae00\uc774 \uc2e0\uace0\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),d(!1));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),w=function(){var n=(0,l.Z)((0,c.Z)().mark((function n(){return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,K(t.id,r.token);case 2:n.sent&&(g(null),alert("\ud574\ub2f9 \uac8c\uc2dc\uae00\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),window.location.pathname.startsWith("/post")?v(-1):e(!0));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return console.log(m),(0,j.jsxs)(Y,{children:[(0,j.jsxs)("button",{onClick:function(){v("/other_profile/".concat(t.author.accountname),{state:t.author.accountname})},children:[(0,j.jsx)(nn,{children:(0,j.jsx)("img",{src:(0,M.Z)(t.author.image),alt:"\ud504\ub85c\ud544 \uc774\ubbf8\uc9c0"})}),(0,j.jsxs)(tn,{children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{children:t.author.username}),t.author.accountname.includes("Teacher")&&(0,j.jsx)("img",{src:Q.Z,alt:"\uac15\uc0ac \uc544\uc774\ucf58"})]}),(0,j.jsx)("p",{children:t.author.accountname.substr(7)})]})]}),(0,j.jsx)(J.Z,{onClick:function(){d(!0)}}),p&&(t.author.accountname===r.accountname?(0,j.jsx)($.Z,{onClick:function(){v("/post/".concat(t.id,"/edit"),{state:t})},setModalOpen:d,setAlertModalOpen:g,type:"delete",text:"\uc0ad\uc81c"}):(0,j.jsx)($.Z,{setModalOpen:d,setAlertModalOpen:g,type:"report",text:"\uc2e0\uace0\ud558\uae30"})),m&&(0,j.jsx)(G.Z,{setAlertModalOpen:g,onClick:"delete"===m?w:Z,type:m})]})}var X,Y=a.ZP.div(N||(N=(0,r.Z)(["\n  width: 100%;\n  height: 42px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  button {\n    display: flex;\n    gap: 12px;\n    align-items: center;\n  }\n"]))),nn=a.ZP.div(q||(q=(0,r.Z)(["\n  width: 42px;\n  height: 42px;\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    border-radius: 50%;\n  }\n"]))),tn=a.ZP.div(E||(E=(0,r.Z)(["\n  div {\n    display: flex;\n    gap: 3px;\n    margin-bottom: 6px;\n    img {\n      width: 12px;\n    }\n  }\n\n  div + p {\n    font-size: var(--font-sm);\n    color: var(--sub-font-color);\n  }\n"])));function en(n){var t=n.post,e=n.setPostUpdated;return(0,j.jsxs)(rn,{$bgColor:"Teacher"===t.author.accountname.substr(0,7)&&"rgba(226, 238, 232,0.5)",children:[(0,j.jsx)(V,{setPostUpdated:e,post:t}),(0,j.jsx)(B,{post:t})]})}var rn=a.ZP.li(X||(X=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  font-size: var(--font-md);\n  padding-bottom: 20px;\n  gap: 16px;\n  margin-top: 10px;\n  background-color: ",";\n  border-radius: 20px 0 0 0;\n"])),(function(n){return n.$bgColor}))}}]);
//# sourceMappingURL=76.1eb30244.chunk.js.map