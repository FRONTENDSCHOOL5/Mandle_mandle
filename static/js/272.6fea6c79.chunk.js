"use strict";(self.webpackChunkmandle_mandle=self.webpackChunkmandle_mandle||[]).push([[272],{7472:function(n,e,r){r(2791);e.Z=r.p+"static/media/icon-arrow-left.d2f853c69661a4cb3407f6503b997112.svg"},682:function(n,e,r){r(2791);e.Z=r.p+"static/media/placeholderImg.b5c3b6647c65fc65914e3609db739965.svg"},5698:function(n,e,r){r.d(e,{Rx:function(){return o},e5:function(){return a},yY:function(){return c}});var t=r(5330),i=(0,r(9386).J)().persistAtom,o=(0,t.cn)({key:"UserAtom",default:{},effects_UNSTABLE:[i]}),c=(0,t.cn)({key:"IsLogin",default:!1,effects_UNSTABLE:[i]}),a=(0,t.cn)({key:"AutoLogin",default:!1,effects_UNSTABLE:[i]})},3256:function(n,e,r){r.d(e,{Z:function(){return c}});var t=r(4165),i=r(5861),o=r(1243);function c(n){return a.apply(this,arguments)}function a(){return(a=(0,i.Z)((0,t.Z)().mark((function n(e){var r;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.Z.get("https://api.mandarin.weniv.co.kr/product/?limit=Number&skip=Number",{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"}});case 3:return r=n.sent,n.abrupt("return",r.data);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}},2059:function(n,e,r){r.d(e,{N:function(){return l},O:function(){return d}});var t,i=r(168),o=(r(2791),r(6444)),c=r(5683),a=r(682),s=r(184);function l(n){var e=n.mainImg,r=n.tag,t=n.title;return(0,s.jsxs)(u,{src:"",width:"180px",padding:"10px 6px",alt:"",children:[(0,s.jsx)(c.Z,{src:e,alt:"\ud074\ub798\uc2a4 \uc18c\uac1c \uc774\ubbf8\uc9c0",placeholderSrc:a.Z}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{children:r}),(0,s.jsx)("h3",{children:t})]})]})}function d(n){var e=n.miniImg,r=n.miniTag,t=n.miniName;return(0,s.jsxs)(u,{src:"",width:"140px",padding:"6px 4px",alt:"",children:[(0,s.jsx)("img",{src:e,alt:""}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{children:r}),(0,s.jsx)("h3",{children:t})]})]})}var u=o.ZP.article(t||(t=(0,i.Z)(["\n  display: block;\n  width: ",";\n  height: ",";\n  background: #ffffff;\n  box-shadow: 0px 1px 2px rgba(118, 118, 118, 0.25);\n  border-radius: 5px;\n  img {\n    width: 100%;\n    object-fit: cover;\n    aspect-ratio: 180 / 120;\n    border-radius: 5px 5px 0 0;\n    vertical-align: top;\n    box-sizing: border-box;\n  }\n\n  div {\n    padding: ",";\n  }\n  p {\n    color: var(--sub-font-color);\n    font-size: var(--font-sm);\n    margin-bottom: 8px;\n  }\n  h3 {\n    font-size: var(--font-md);\n    color: var(--font-color);\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n"])),(function(n){return n.width}),(function(n){return n.height}),(function(n){return n.padding}))},5052:function(n,e,r){r.d(e,{Z:function(){return c}});r(2791);var t=r(7689),i=r(7472),o=r(184);function c(){var n=(0,t.s0)();return(0,o.jsx)("button",{onClick:function(){n(-1)},children:(0,o.jsx)("img",{src:i.Z,alt:"\ub4a4\ub85c\uac00\uae30 \uc544\uc774\ucf58"})})}},5683:function(n,e,r){r.d(e,{Z:function(){return f}});var t,i,o=r(1413),c=r(9439),a=r(4925),s=r(2791),l=r(168),d=r(6444),u=d.ZP.img(t||(t=(0,l.Z)(["\n  transition: all 0.5s;\n\n  &.loading {\n    filter: blur(10px);\n    clip-path: inset(0);\n  }\n  &.loaded {\n    filter: blur(0px);\n  }\n"]))),p=(d.ZP.div(i||(i=(0,l.Z)(["\n  width: 100%;\n  height: 100%;\n  background-color: ",";\n"])),(function(n){return n.color||"#eee"})),r(3441)),h=r.p+"static/media/No_Image_Available.e1ce751ef1b590f719f9.jpg",g=r(184),x=["placeholderSrc","src","styles"];function f(n){var e=n.placeholderSrc,r=n.src,t=n.styles,i=(0,a.Z)(n,x),l=(0,s.useState)(e||r),d=(0,c.Z)(l,2),f=d[0],v=d[1],m=(0,s.useState)(!0),b=(0,c.Z)(m,2),Z=b[0],w=b[1],j=(0,p.YD)(),k=j.ref,y=j.inView,P=Z?"loading":"loaded";return(0,s.useEffect)((function(){if(y&&f===e){var n=new Image;n.src=r,n.onload=function(){console.log("\uc774\ubbf8\uc9c0 \ub85c\ub4dc \uc644\ub8cc :",r),v(r),w(!1)},n.onerror=function(){console.log("\uc774\ubbf8\uc9c0 \ub85c\ub4dc \uc2e4\ud328:",r),v(h),w(!1)}}}),[r,y]),(0,g.jsx)(u,(0,o.Z)((0,o.Z)({},(0,o.Z)({src:f},i)),{},{style:t,className:P,loading:"lazy",alt:i.alt||"",ref:k}))}},7188:function(n,e,r){r.d(e,{ZP:function(){return p}});var t,i,o,c,a,s=r(168),l=(r(2791),r(6444)),d=r(8085),u=r(184);function p(n){var e=n.width,r=n.height,t=n.imgHeight;return console.log(e,r,t),(0,u.jsxs)(h,{width:e,height:r,children:[(0,u.jsx)(g,{imgHeight:t}),(0,u.jsxs)(x,{imgHeight:t,children:[(0,u.jsx)(f,{}),(0,u.jsx)(v,{})]})]})}var h=l.ZP.div(t||(t=(0,s.Z)(["\n  box-shadow: rgba(118, 118, 118, 0.25) 0px 1px 2px;\n  flex-shrink: 0;\n  width: ",";\n  height: ",";\n"])),(function(n){return n.width}),(function(n){return n.height})),g=(0,l.ZP)(d.O)(i||(i=(0,s.Z)(["\n  width: 100%;\n  height: ",";\n  border-radius: 5px 5px 0 0;\n"])),(function(n){return n.imgHeight})),x=l.ZP.div(o||(o=(0,s.Z)(["\n  background-color: #fff;\n  width: 100%;\n  height: calc(100% - ",");\n  border-radius: 0 0 5px 5px;\n  padding: 10px 4px 4px;\n"])),(function(n){return n.imgHeight})),f=(0,l.ZP)(d.O)(c||(c=(0,s.Z)(["\n  width: 70px;\n  height: 12px;\n  margin-bottom: 6px;\n"]))),v=(0,l.ZP)(d.O)(a||(a=(0,s.Z)(["\n  width: 120px;\n  height: 14px;\n  padding: 6px 0px 7px 4px;\n"])))},2352:function(n,e,r){r.d(e,{Z:function(){return d}});var t,i,o,c=r(168),a=(r(2791),r(6444)),s=r(7188),l=(r(8085),r(184));function d(n){var e=n.children,r=n.scrollBgColor;return(0,l.jsxs)(u,{children:[(0,l.jsx)(p,{children:e}),(0,l.jsxs)(h,{scrollBgColor:r,children:[(0,l.jsx)(s.ZP,{width:"140px",height:"138px",imgHeight:"90px"}),(0,l.jsx)(s.ZP,{width:"140px",height:"138px",imgHeight:"90px"}),(0,l.jsx)(s.ZP,{width:"140px",height:"138px",imgHeight:"90px"})]})]})}var u=a.ZP.div(t||(t=(0,c.Z)([""]))),p=a.ZP.h2(i||(i=(0,c.Z)(["\n  font-size: 14px;\n  margin-bottom: 16px;\n"]))),h=a.ZP.div(o||(o=(0,c.Z)(["\n  padding-bottom: 10px;\n  display: flex;\n\n  gap: 10px;\n  overflow-x: scroll;\n\n  &::-webkit-scrollbar {\n    padding-top: 5px;\n    background-color: ",";\n\n    height: 10px;\n  }\n  &::-webkit-scrollbar-thumb {\n    background-color: var(--border-color);\n    border-radius: 10px;\n    background-clip: padding-box;\n    border: 2px solid ",";\n  }\n"])),(function(n){return n.scrollBgColor}),(function(n){return n.scrollBgColor}))},8085:function(n,e,r){r.d(e,{O:function(){return o}});var t,i=r(168),o=r(6444).ZP.div(t||(t=(0,i.Z)(["\n  width: 100%;\n  border-radius: 5px;\n  background-color: #c4c4c4;\n  animation: fade 2s infinite linear;\n\n  @keyframes fade {\n    0% {\n      opacity: 0.5;\n    }\n    50% {\n      opacity: 1;\n    }\n    100% {\n      opacity: 0.5;\n    }\n  }\n"])))},8018:function(n,e,r){r.r(e),r.d(e,{default:function(){return F}});var t,i,o,c,a,s,l,d,u,p,h=r(4165),g=r(3433),x=r(5861),f=r(1413),v=r(9439),m=r(2791),b=r(5330),Z=r(5698),w=(0,b.cn)({key:"classDataList",default:{popularClasses:[],newClasses:[],page:1}}),j=r(1891),k=r(2059),y=r(671),P=r(1087),C=r(168),H=r(6444),I=r(5313),V=H.ZP.h2(t||(t=(0,C.Z)(["\n  ","\n"])),I.Z),S=H.ZP.main(i||(i=(0,C.Z)(["\n  background-color: var(--background-color);\n  box-sizing: border-box;\n  height: calc(100% - 48px - 60px);\n  overflow-y: scroll;\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"]))),N=H.ZP.section(o||(o=(0,C.Z)(["\n  padding: 20px 0 0 16px;\n"]))),O=H.ZP.section(c||(c=(0,C.Z)(["\n  box-sizing: border-box;\n  padding: 0 10px 30px;\n  margin-top: 30px;\n  background-color: var(--background-color);\n"]))),A=H.ZP.h2(a||(a=(0,C.Z)(["\n  font-size: var(--font-md);\n  font-weight: var(--font-regular);\n  margin-bottom: 16px;\n  color: var(--font-color);\n"]))),_=H.ZP.ul(s||(s=(0,C.Z)(["\n  display: flex;\n  gap: 8px;\n  padding-bottom: 10px;\n  overflow-y: hidden;\n  overflow-x: scroll;\n  &::-webkit-scrollbar {\n    padding-top: 5px;\n    height: 10px;\n  }\n  &::-webkit-scrollbar-thumb {\n    background-color: var(--border-color);\n    border-radius: 10px;\n    background-clip: padding-box;\n    border: 2px solid var(--background-color);\n  }\n"]))),z=H.ZP.ul(l||(l=(0,C.Z)(["\n  display: grid;\n  gap: 10px;\n  grid-template-columns: repeat(2, 1fr);\n"]))),B=r(3256),E=r(7188),R=r(2352),L=r(184);function T(){return(0,L.jsxs)("div",{children:[(0,L.jsx)(M,{children:(0,L.jsx)(R.Z,{scrollBgColor:"var(--background-color)",children:"\uc778\uae30 \ud074\ub798\uc2a4"})}),(0,L.jsxs)(U,{children:[(0,L.jsx)("h2",{children:"\uc0c8\ub85c\uc6b4 \ud074\ub798\uc2a4"}),(0,L.jsxs)(D,{children:[(0,L.jsx)(E.ZP,{width:"180px",height:"174px",imgHeight:"120px"}),(0,L.jsx)(E.ZP,{width:"180px",height:"174px",imgHeight:"120px"}),(0,L.jsx)(E.ZP,{width:"180px",height:"174px",imgHeight:"120px"}),(0,L.jsx)(E.ZP,{width:"180px",height:"174px",imgHeight:"120px"}),(0,L.jsx)(E.ZP,{width:"180px",height:"174px",imgHeight:"120px"}),(0,L.jsx)(E.ZP,{width:"180px",height:"174px",imgHeight:"120px"}),(0,L.jsx)(E.ZP,{width:"180px",height:"174px",imgHeight:"120px"}),(0,L.jsx)(E.ZP,{width:"180px",height:"174px",imgHeight:"120px"})]})]})]})}var M=H.ZP.div(d||(d=(0,C.Z)(["\n  padding: 20px 0 0 16px;\n"]))),U=H.ZP.div(u||(u=(0,C.Z)(["\n  margin-top: 30px;\n  padding: 0 10px;\n  h2 {\n    font-size: var(--font-md);\n    margin-bottom: 16px;\n  }\n"]))),D=H.ZP.div(p||(p=(0,C.Z)(["\n  width: 100px;\n  display: grid;\n  gap: 10px;\n  grid-template-columns: repeat(2, 1fr);\n"])));function F(){var n=(0,b.sJ)(Z.Rx).token,e=(0,m.useState)(!0),r=(0,v.Z)(e,2),t=r[0],i=r[1],o=(0,b.FV)(w),c=(0,v.Z)(o,2),a=c[0],s=c[1],l=(0,m.useRef)(null),d=function(){l.current&&(l.current.scrollHeight-l.current.scrollTop===l.current.clientHeight&&s((function(n){return(0,f.Z)((0,f.Z)({},n),{},{page:n.page+1})})))};return(0,m.useEffect)((function(){var e=function(){var e=(0,x.Z)((0,h.Z)().mark((function e(){var r,t,o;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,B.Z)(n,a.page);case 3:r=e.sent,t=r.product.filter((function(n){return n.author.accountname.includes("Teacher")})),1===a.page?s((0,f.Z)((0,f.Z)({},a),{},{popularClasses:t.slice(0,3),newClasses:t.slice(0,8)})):(o=8*(a.page-1),s((function(n){return(0,f.Z)((0,f.Z)({},n),{},{newClasses:[].concat((0,g.Z)(n.newClasses),(0,g.Z)(t.slice(o,o+8)))})}))),i(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Error",e.t0),i(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return e(),l.current&&l.current.addEventListener("scroll",d),function(){l.current&&l.current.removeEventListener("scroll",d)}}),[n,a.page,s]),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(j.KH,{title:"\ud074\ub798\uc2a4",children:(0,L.jsx)(V,{children:"\ud074\ub798\uc2a4 \ud53c\ub4dc"})}),(0,L.jsx)(S,{ref:l,children:t?(0,L.jsx)(T,{}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(N,{children:[(0,L.jsx)(A,{children:"\uc778\uae30 \ud074\ub798\uc2a4"}),(0,L.jsx)(_,{children:a.popularClasses.map((function(n){var e=n.link.split("@")[0]||"";return(0,L.jsx)("li",{children:(0,L.jsx)(P.rU,{to:"/class/detail/".concat(n._id),children:(0,L.jsx)(k.O,{miniImg:n.itemImage,miniName:n.itemName,miniTag:e})})},n._id)}))})]}),(0,L.jsxs)(O,{children:[(0,L.jsx)(A,{children:"\uc0c8\ub85c\uc6b4 \ud074\ub798\uc2a4"}),(0,L.jsx)(z,{children:a.newClasses.map((function(n){var e=n.link.split("@")[0]||"";return(0,L.jsx)("li",{children:(0,L.jsx)(P.rU,{to:"/class/detail/".concat(n._id),children:(0,L.jsx)(k.N,{mainImg:n.itemImage,title:n.itemName,tag:e})})},n._id)}))})]})]})}),(0,L.jsx)(y.Z,{})]})}},3441:function(n,e,r){r.d(e,{YD:function(){return w}});var t=r(9439),i=r(1413),o=r(4925),c=r(5671),a=r(3144),s=r(7326),l=r(136),d=r(7277),u=r(2791),p=["as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"],h=Object.defineProperty,g=function(n,e,r){return function(n,e,r){e in n?h(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r}(n,"symbol"!==typeof e?e+"":e,r),r},x=new Map,f=new WeakMap,v=0,m=void 0;function b(n){return Object.keys(n).sort().filter((function(e){return void 0!==n[e]})).map((function(e){return"".concat(e,"_").concat("root"===e?(r=n.root)?(f.has(r)||(v+=1,f.set(r,v.toString())),f.get(r)):"0":n[e]);var r})).toString()}function Z(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:m;if("undefined"===typeof window.IntersectionObserver&&void 0!==t){var i=n.getBoundingClientRect();return e(t,{isIntersecting:t,target:n,intersectionRatio:"number"===typeof r.threshold?r.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),function(){}}var o=function(n){var e=b(n),r=x.get(e);if(!r){var t,i=new Map,o=new IntersectionObserver((function(e){e.forEach((function(e){var r,o=e.isIntersecting&&t.some((function(n){return e.intersectionRatio>=n}));n.trackVisibility&&"undefined"===typeof e.isVisible&&(e.isVisible=o),null==(r=i.get(e.target))||r.forEach((function(n){n(o,e)}))}))}),n);t=o.thresholds||(Array.isArray(n.threshold)?n.threshold:[n.threshold||0]),r={id:e,observer:o,elements:i},x.set(e,r)}return r}(r),c=o.id,a=o.observer,s=o.elements,l=s.get(n)||[];return s.has(n)||s.set(n,l),l.push(e),a.observe(n),function(){l.splice(l.indexOf(e),1),0===l.length&&(s.delete(n),a.unobserve(n)),0===s.size&&(a.disconnect(),x.delete(c))}}u.Component;function w(){var n,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.threshold,i=e.delay,o=e.trackVisibility,c=e.rootMargin,a=e.root,s=e.triggerOnce,l=e.skip,d=e.initialInView,p=e.fallbackInView,h=e.onChange,g=u.useState(null),x=(0,t.Z)(g,2),f=x[0],v=x[1],m=u.useRef(),b=u.useState({inView:!!d,entry:void 0}),w=(0,t.Z)(b,2),j=w[0],k=w[1];m.current=h,u.useEffect((function(){var n;if(!l&&f)return n=Z(f,(function(e,r){k({inView:e,entry:r}),m.current&&m.current(e,r),r.isIntersecting&&s&&n&&(n(),n=void 0)}),{root:a,rootMargin:c,threshold:r,trackVisibility:o,delay:i},p),function(){n&&n()}}),[Array.isArray(r)?r.toString():r,f,a,c,s,l,o,p,i]);var y=null==(n=j.entry)?void 0:n.target,P=u.useRef();f||!y||s||l||P.current===y||(P.current=y,k({inView:!!d,entry:void 0}));var C=[v,j.inView,j.entry];return C.ref=C[0],C.inView=C[1],C.entry=C[2],C}}}]);
//# sourceMappingURL=272.6fea6c79.chunk.js.map