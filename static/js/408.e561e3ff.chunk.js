"use strict";(self.webpackChunkmandle_mandle=self.webpackChunkmandle_mandle||[]).push([[408],{5698:function(n,e,t){t.d(e,{Rx:function(){return o},e5:function(){return i},yY:function(){return c}});var r=t(5330),a=(0,t(9386).J)().persistAtom,o=(0,r.cn)({key:"UserAtom",default:{},effects_UNSTABLE:[a]}),c=(0,r.cn)({key:"IsLogin",default:!1,effects_UNSTABLE:[a]}),i=(0,r.cn)({key:"AutoLogin",default:!1,effects_UNSTABLE:[a]})},8408:function(n,e,t){t.r(e),t.d(e,{default:function(){return I}});var r=t(168),a=t(1413),o=t(4165),c=t(5861),i=t(9439),u=t(2791),s=t(6444),l=(t(7472),t(7672)),d=t(7689),p=t(2757),f=t(1243);function b(n,e){return m.apply(this,arguments)}function m(){return(m=(0,c.Z)((0,o.Z)().mark((function n(e,t){var r;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.Z.put("https://api.mandarin.weniv.co.kr/user",{user:{username:e.username,accountname:e.accountname,intro:e.intro,image:e.image}},{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});case 3:return r=n.sent,n.abrupt("return",r.data);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}var x,h,Z,v,g,k,y,j,w,B,P=t(5698),S=t(5330),C=t(5052),A=t(4051),_=s.ZP.div(x||(x=(0,r.Z)(["\n  width: 390px;\n"]))),z=s.ZP.div(h||(h=(0,r.Z)(["\n  padding: 20px;\n  #colorPicker {\n    width: 40px;\n    height: 40px;\n    position: absolute;\n    top: 160px;\n    left: 75%;\n  }\n"]))),T=s.ZP.header(Z||(Z=(0,r.Z)(["\n  text-align: center;\n  margin: 29px auto 12px;\n  position: relative;\n  button {\n    position: absolute;\n    left: 34px;\n  }\n"]))),L=s.ZP.h1(v||(v=(0,r.Z)(["\n  font-size: var(--font-xl);\n"]))),N=(s.ZP.form(g||(g=(0,r.Z)(["\n  padding: 0 34px;\n\n  #submitBtn {\n    display: block;\n    width: 160px;\n    height: 32px;\n    background-color: var(--sub-color);\n    color: rgb(255 255 255);\n    border-radius: 32px;\n    text-align: center;\n    margin: auto;\n  }\n\n  #submitBtn.active {\n    background-color: var(--main-color);\n  }\n"]))),s.ZP.p(k||(k=(0,r.Z)(["\n  font-size: var(--font-sm);\n  color: #767676;\n  text-align: center;\n  margin-bottom: 30px;\n"]))),s.ZP.div(y||(y=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 16px;\n  ","\n"])),(function(n){return n.first&&"margin-top: 30px;"})),s.ZP.label(j||(j=(0,r.Z)(["\n  font-family: var(--font--Bold);\n  font-weight: 400;\n  color: #767676;\n  font-size: var(--font-sm);\n"]))),s.ZP.input(w||(w=(0,r.Z)(["\n  border: none;\n  border-bottom: 1px solid #dbdbdb;\n  width: 322px;\n  padding: 8px 0;\n  box-sizing: border-box;\n  margin: auto;\n  &::placeholder {\n    color: #dbdbdb;\n  }\n  &:focus {\n    border-color: #036635;\n  }\n"]))),t(3525)),D=t(184),I=function(){var n=(0,d.TH)().state.profileData,e=(0,S.FV)(P.Rx),t=(0,i.Z)(e,2),r=t[0],s=t[1],f=r.token,m=(0,d.s0)(),x=(0,u.useState)(n.username),h=(0,i.Z)(x,2),Z=h[0],v=h[1],g="Student"===n.accountname.substr(0,7)||"Teacher"===n.accountname.substr(0,7)?n.accountname.substr(0,7):"",k=(0,u.useState)(g?n.accountname.substr(7):n.accountname),y=(0,i.Z)(k,2),j=y[0],w=y[1],B=n.intro,I=B.match(/#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})/),E=(0,u.useState)(I?I[0]:""),F=(0,i.Z)(E,2),R=F[0],H=F[1],J=(0,u.useState)(B.replace(R,"")),V=(0,i.Z)(J,2),Y=V[0],$=V[1],q=(0,u.useState)(!1),G=(0,i.Z)(q,2),K=G[0],M=G[1],O=(0,u.useState)(n.image),Q=(0,i.Z)(O,2),W=Q[0],X=Q[1],nn=(0,u.useState)(!0),en=(0,i.Z)(nn,2),tn=(en[0],en[1]),rn=(0,u.useState)(""),an=(0,i.Z)(rn,2),on=an[0],cn=an[1],un=(0,u.useState)(!0),sn=(0,i.Z)(un,2),ln=sn[0],dn=sn[1],pn=(0,u.useState)(""),fn=(0,i.Z)(pn,2),bn=fn[0],mn=fn[1],xn=function(n){var e=n.target,t=e.name,r=e.value;"username"===t?v(r.trim()):"accountname"===t?w(r.trim()):"intro"===t&&$(r),Zn()};console.log(B,I,Y);var hn=function(){var n=(0,c.Z)((0,o.Z)().mark((function n(){var e;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!/^[A-Za-z0-9_.]+$/.test(j)){n.next=8;break}return n.next=4,(0,p.Z)(g+j);case 4:"\uc0ac\uc6a9 \uac00\ub2a5\ud55c \uacc4\uc815ID \uc785\ub2c8\ub2e4."===(e=n.sent)?(cn(e),tn(!0)):tn(!1),n.next=10;break;case 8:cn("*\uc601\ubb38, \uc22b\uc790, \ubc11\uc904 \ubc0f \ub9c8\uce68\ud45c\ub9cc \uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),tn(!1);case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Zn=function(){M(""!==Z&&""!==j&&""!==B)},vn=function(){var n=(0,c.Z)((0,o.Z)().mark((function n(){var e;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,a.Z)((0,a.Z)({},r),{},{username:Z,accountname:g+j,intro:Y+R,image:W}),n.next=3,b(e,f);case 3:n.sent&&(s(e),m("/my_profile"));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),gn=function(){var n=(0,c.Z)((0,o.Z)().mark((function n(e){return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),!1!==K){n.next=3;break}return n.abrupt("return");case 3:Z&&j&&ln&&vn();case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,D.jsxs)(_,{children:[(0,D.jsxs)(T,{children:[(0,D.jsx)(C.Z,{}),(0,D.jsx)(L,{children:"\ud504\ub85c\ud544 \uc218\uc815"})]}),(0,D.jsx)(N.dk,{children:"\ubcc0\uacbd\uc0ac\ud56d \uc785\ub825 \ud6c4 \uc800\uc7a5 \ubc84\ud2bc\uc744 \ub20c\ub7ec\uc8fc\uc138\uc694."}),(0,D.jsx)("div",{className:"App",style:{backgroundColor:R},children:(0,D.jsxs)(z,{children:[(0,D.jsx)(l.Z,{onResponse:function(n){X(n),M(!0)},image:W}),(0,D.jsx)("div",{id:"colorPicker",children:(0,D.jsx)("input",{type:"color",value:R,onChange:function(n){H(n.target.value)}})})]})}),(0,D.jsxs)(N.IB,{first:!0,children:[(0,D.jsx)(A.ZP,{label:"\uc0ac\uc6a9\uc790 \uc774\ub984",type:"text",name:"username",onChange:xn,placeholder:"2-10\uc790 \uc774\ub0b4 \uc5ec\uc57c \ud569\ub2c8\ub2e4",value:Z,onBlur:function(){Z.length>=2&&Z.length<=10?(mn(""),dn(!0)):(mn("\uc720\uc800 \uc774\ub984\uc740 2\uc790 \uc774\uc0c1~10\uc790 \uc774\ub0b4\uc5ec\uc57c \ud569\ub2c8\ub2e4."),dn(!1))},borderColor:bn?"var(--error-color)":"#dbdbdb"}),bn&&(0,D.jsx)(N.Bc,{children:bn}),(0,D.jsx)(A.ZP,{label:"\uacc4\uc815 ID",name:"accountname",onChange:xn,onBlur:hn,value:j,placeholder:"\uc601\ubb38, \uc22b\uc790, \ud2b9\uc218\ubb38\uc790(.),(_)\ub9cc \uc0ac\uc6a9 \uac00\ub2a5\ud569\ub2c8\ub2e4.",borderColor:on?"var(--error-color)":"#dbdbdb"}),on&&(0,D.jsx)(N.Bc,{children:on}),(0,D.jsx)(A.ZP,{label:"\uc18c\uac1c",name:"intro",type:"text",value:Y,placeholder:"\uc790\uc2e0\uc5d0 \ub300\ud574 \uc18c\uac1c\ud574 \uc8fc\uc138\uc694!",onChange:xn,borderColor:"#dbdbdb"}),(0,D.jsx)(U,{id:"submitBtn",className:K?"active":"",type:"submit",onClick:gn,children:"\uc800\uc7a5"})]})]})},U=s.ZP.button(B||(B=(0,r.Z)(["\n  &#submitBtn {\n    display: block;\n    width: 100%;\n    height: 32px;\n    background-color: var(--sub-color);\n    color: rgb(255 255 255);\n    border-radius: 32px;\n    text-align: center;\n    margin-top: 20px;\n  }\n\n  &#submitBtn.active {\n    background-color: var(--main-color);\n  }\n"])))}}]);
//# sourceMappingURL=408.e561e3ff.chunk.js.map