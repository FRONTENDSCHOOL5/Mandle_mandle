"use strict";(self.webpackChunkmandle_mandle=self.webpackChunkmandle_mandle||[]).push([[203],{3868:function(n,e,t){t(2791);e.Z=t.p+"static/media/icon-teacher.e3046560ae02bb45b74509a7c29b7d4a.svg"},5698:function(n,e,t){t.d(e,{Rx:function(){return c},e5:function(){return i},yY:function(){return o}});var r=t(5330),a=(0,t(9386).J)().persistAtom,c=(0,r.cn)({key:"UserAtom",default:{},effects_UNSTABLE:[a]}),o=(0,r.cn)({key:"IsLogin",default:!1,effects_UNSTABLE:[a]}),i=(0,r.cn)({key:"AutoLogin",default:!1,effects_UNSTABLE:[a]})},7754:function(n,e,t){t.d(e,{Z:function(){return a}});var r=t(8886);function a(n){var e=n.replace("https://mandarin.api.weniv.co.kr/","").replace("https://api.mandarin.weniv.co.kr/","");return/^\d/.test(e)?"https://api.mandarin.weniv.co.kr/".concat(e):r.Z}},353:function(n,e,t){t.d(e,{ZP:function(){return C}});var r=t(168),a=t(9439),c=t(2791),o=t(6444),i=t(7689),u=t(5330),s=t(5698),l=t(4165),p=t(5861),f=t(1243);function d(n,e){return h.apply(this,arguments)}function h(){return(h=(0,p.Z)((0,l.Z)().mark((function n(e,t){var r,a;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="https://api.mandarin.weniv.co.kr/profile/".concat(e,"/follow"),n.prev=1,n.next=4,f.Z.post(r,{},{headers:{Authorization:"Bearer ".concat(t),"Content-type":"application/json"}});case 4:return a=n.sent,n.abrupt("return",a.data);case 8:return n.prev=8,n.t0=n.catch(1),console.log(n.t0),n.abrupt("return",null);case 12:case"end":return n.stop()}}),n,null,[[1,8]])})))).apply(this,arguments)}function x(n,e){return m.apply(this,arguments)}function m(){return(m=(0,p.Z)((0,l.Z)().mark((function n(e,t){var r,a;return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="https://api.mandarin.weniv.co.kr/profile/".concat(e,"/unfollow"),n.prev=1,n.next=4,f.Z.delete(r,{headers:{Authorization:"Bearer ".concat(t),"Content-type":"application/json"}});case 4:return a=n.sent,n.abrupt("return",a.data);case 8:return n.prev=8,n.t0=n.catch(1),console.log(n.t0),n.abrupt("return",null);case 12:case"end":return n.stop()}}),n,null,[[1,8]])})))).apply(this,arguments)}var v,w=t(184);function Z(n){n.onClick;var e=n.isfollow,t=n.SetFollow,r=n.accountname,a=n.token,c=function(){var n=(0,p.Z)((0,l.Z)().mark((function n(){return(0,l.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!e){n.next=8;break}return n.next=4,x(r,a);case 4:n.sent&&t(!1),n.next=12;break;case 8:return n.next=10,d(r,a);case 10:n.sent&&t(!0);case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.log(n.t0);case 17:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(){return n.apply(this,arguments)}}();return(0,w.jsx)(y,{className:e?"following":"",onClick:c,children:e?"\ucde8\uc18c":"\ud314\ub85c\uc6b0"})}var g,k,b,y=o.ZP.button(v||(v=(0,r.Z)(["\n  width: 100px;\n  height: 28px;\n  color: white;\n  margin-left: 30px;\n  border-radius: 28px;\n  background-color: var(--main-color);\n  text-align: center;\n\n  &.following {\n    background-color: white;\n    color: var(--sub-font-color);\n    border: 1px solid var(--sub-font-color);\n  }\n"]))),j=t(7754),A=t(3868);function C(n){var e=n.user,t=n.type,r=n.keyword,o=(0,i.s0)(),l=(0,u.sJ)(s.Rx).token,p=(0,c.useState)(e.isfollow),f=(0,a.Z)(p,2),d=f[0],h=f[1],x=e.username.split(new RegExp("(".concat(r,")"))),m="Student"===e.accountname.substr(0,7)||"Teacher"===e.accountname.substr(0,7)?e.accountname.substr(7):e.accountname;return(0,w.jsxs)(S,{children:[(0,w.jsxs)(P,{onClick:function(){o("/other_profile/".concat(e.accountname),{accountname:e.accountname})},children:[(0,w.jsx)("div",{children:(0,w.jsx)("img",{src:(0,j.Z)(e.image),alt:"\ud504\ub85c\ud544 \uc774\ubbf8\uc9c0"})}),(0,w.jsxs)(T,{children:[(0,w.jsx)("div",{children:(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{children:x.map((function(n,e){return n===r?(0,w.jsx)("span",{children:n},e):n}))}),"Teacher"===e.accountname.substr(0,7)&&(0,w.jsx)("img",{src:A.Z,alt:"\uac15\uc0ac \uc544\uc774\ucf58"})]})}),(0,w.jsx)("p",{children:t?e.intro:m})]})]}),t&&(0,w.jsx)(Z,{isfollow:d,SetFollow:h,accountname:e.accountname,token:l})]},e._id)}var S=o.ZP.li(g||(g=(0,r.Z)(["\n  display: flex;\n  align-items: center;\n"]))),P=o.ZP.button(k||(k=(0,r.Z)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n\n  img {\n    width: 42px;\n    height: 42px;\n    border-radius: 50%;\n    object-fit: cover;\n  }\n"]))),T=o.ZP.div(b||(b=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 100%;\n  gap: 6px;\n  div {\n    display: flex;\n    justify-content: space-between;\n    div {\n      display: flex;\n      gap: 3px;\n      align-items: c;\n      span {\n        font-weight: 700;\n        color: var(--main-color);\n      }\n      img {\n        width: 12px;\n        height: 12px;\n      }\n    }\n  }\n\n  img {\n    width: 18px;\n    height: 20px;\n  }\n\n  div + p {\n    font-size: var(--font-sm);\n    color: var(--sub-font-color);\n  }\n"])))},6203:function(n,e,t){t.r(e),t.d(e,{default:function(){return Z}});var r=t(4165),a=t(5861),c=t(9439),o=t(2791),i=t(5330),u=t(353),s=t(1243);function l(n,e){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)((0,r.Z)().mark((function n(e,t){var a;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,s.Z.get("https://api.mandarin.weniv.co.kr/user/searchuser/?keyword=".concat(e),{headers:{Authorization:"Bearer ".concat(t),"Content-type":"application/json"}});case 3:return a=n.sent,n.abrupt("return",a.data);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:return n.abrupt("return",null);case 11:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}var f,d=t(5698),h=t(671),x=t(1891),m=t(168),v=t(6444).ZP.main(f||(f=(0,m.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  height: calc(100% - 60px - 48px);\n\n  ul {\n    padding: 20px 16px;\n    overflow-y: scroll;\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n  }\n  ul::-webkit-scrollbar {\n    display: none;\n  }\n"]))),w=t(184);function Z(){var n=(0,i.FV)(d.Rx),e=(0,c.Z)(n,1)[0],t=(0,o.useState)(null),s=(0,c.Z)(t,2),p=s[0],f=s[1],m=(0,o.useState)(""),Z=(0,c.Z)(m,2),g=Z[0],k=Z[1],b=e.token;return(0,o.useEffect)((function(){var n=setTimeout((0,a.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""!==g.trim()){n.next=3;break}return f(null),n.abrupt("return");case 3:return n.next=5,l(g,b);case 5:e=n.sent,f(e);case 7:case"end":return n.stop()}}),n)}))),300);return function(){return clearTimeout(n)}}),[g,b]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(x.m6,{token:b,onChange:function(n){k(n.target.value)}}),(0,w.jsx)(v,{children:(0,w.jsx)("ul",{children:p?p.map((function(n,e){return(0,w.jsx)(u.ZP,{user:n,keyword:g},e)})):""})}),(0,w.jsx)(h.Z,{})]})}}}]);
//# sourceMappingURL=203.60e1ac6d.chunk.js.map